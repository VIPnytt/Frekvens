#pragma once

#include "config/constants.h"

#if MODE_RING

#include "modules/ModeModule.h"

class RingMode : public ModeModule
{
private:
    bool direction = true;

    unsigned long lastMillis = 0;

    uint8_t frame = 0;

    const std::vector<std::vector<uint16_t>> ring = {
        {
            0b1110000000000111,
            0b1100001111000011,
            0b1000111111110001,
            0b0001111111111000,
            0b0011111111111100,
            0b0011111111111100,
            0b0111111111111110,
            0b0111111001111110,
            0b0111111001111110,
            0b0111111111111110,
            0b0011111111111100,
            0b0011111111111100,
            0b0001111111111000,
            0b1000111111110001,
            0b1100001111000011,
            0b1110000000000111,
        },
        {
            0b1110000000000111,
            0b1100001111000011,
            0b1000111111110001,
            0b0001111111111000,
            0b0011111111111100,
            0b0011111111111100,
            0b0111111001111110,
            0b0111110000111110,
            0b0111110000111110,
            0b0111111001111110,
            0b0011111111111100,
            0b0011111111111100,
            0b0001111111111000,
            0b1000111111110001,
            0b1100001111000011,
            0b1110000000000111,
        },
        {
            0b1100000000000011,
            0b1000001111000001,
            0b0000111111110000,
            0b0001111111111000,
            0b0011111111111100,
            0b0011111001111100,
            0b0111110000111110,
            0b0111100000011110,
            0b0111100000011110,
            0b0111110000111110,
            0b0011111001111100,
            0b0011111111111100,
            0b0001111111111000,
            0b0000111111110000,
            0b1000001111000001,
            0b1100000000000011,
        },
        {
            0b1000000000000001,
            0b0000001111000000,
            0b0000011111100000,
            0b0001111001111000,
            0b0011110000111100,
            0b0011100000011100,
            0b0111000000001110,
            0b0111000000001110,
            0b0111000000001110,
            0b0111100000011110,
            0b0011110000111100,
            0b0011111001111100,
            0b0001111111111000,
            0b0000111111110000,
            0b0000001111000000,
            0b1000000000000001,
        },
        {
            0b1100000000000011,
            0b1000001111000001,
            0b0000111111110000,
            0b0001110000111000,
            0b0011100000011100,
            0b0011000000001100,
            0b0110000000000110,
            0b0110000000000110,
            0b0110000000000110,
            0b0110000000000110,
            0b0011000000001100,
            0b0011100000011100,
            0b0001110000111000,
            0b0000111111110000,
            0b1000001111000001,
            0b1100000000000011,
        },
        {
            0b1110000000000111,
            0b1100001111000011,
            0b1000100000010001,
            0b0001000000001000,
            0b0010000000000100,
            0b0000000000000000,
            0b0100000000000010,
            0b0100000000000010,
            0b0100000000000010,
            0b0100000000000010,
            0b0000000000000000,
            0b0010000000000100,
            0b0001000000001000,
            0b1000100000010001,
            0b1100001111000011,
            0b1110000000000111,
        },
    };

public:
    RingMode() : ModeModule("Ring") {};

    void handle() override;
};

#endif // MODE_RING
